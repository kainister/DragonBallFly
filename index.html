<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dragon Ball Fly</title>
    <meta name="description" content="Hello, WebVR! â€¢ A-Frame">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script>
      function cos(v) {
        return Math.cos((v - 180) * (Math.PI / 180.0));
      }

      function sin(v) {
        return Math.sin((v - 180) * (Math.PI / 180.0));
      }


      function tan(v) {
        return Math.tan((v - 180) * (Math.PI / 180.0));
      }


      AFRAME.registerComponent("fly", {
        init: function() {
          
        },
        tick() {
          const step = 0.4
          const player = document.querySelector("a-camera")
          let r = player.getAttribute('rotation');
          var pos = player.getAttribute("position")
          pos.x += step * sin(r.y);
          pos.y += step * tan(r.x);
          pos.z += step * cos(r.y);
          player.setAttribute("position", pos);
        }
      })
    </script>

  </head>
  <body>
    <a-scene background="color: #FAFAFA">
      <!-- yavapai, volcano, threetowers, arches, goldmine, -->
<<<<<<< HEAD
      <a-entity environment="preset: arches" >
          <a-entity id="camera-container" animation="property: position; to: 0 16 -150; delay: 500; loop:true; dur:5000" rotation=" 0 -90 0">
              <a-entity camera position="0 1.6 0">
=======
      <a-entity environment="preset: arches">
          <a-entity id="camera-container" >
              <a-camera position="0 1.6 0" fly>
>>>>>>> 77361338d0d68621ebc45b3e1ff12cd05a1aa492
                  <a-animation attribute="position"
                          dur="2000"
                          easing="linear" 
                          to="0 1.6 -10"></a-animation>
                </a-entity>
              </a-entity>
            <a-box color="#6173F4" opacity="0.8" depth="2" position="0 0 -15" shadow></a-box>
            <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="12" color="#1eb25c" shadow></a-plane>
      </a-entity>
    </a-scene>
  </body>
</html>